<div class="page-header"><h1>Decks</h1></div>

<%= paginate @decks %>

<form role="form">
  <div class="form-group">
    <div class="input-group">
      <input type="text" name="search_string" class="form-control" autofocus>
      <i class="input-group-addon glyphicon glyphicon-search"></i>
    </div>
  </div>
</form>

<p></p>

<table class="table table-striped table-condensed">
  <tr>
    <th>Name</th>
    <th>Format</th>
    <th>Card Count</th>
    <th></th>
  </tr>

<% @decks.each do |deck| %>
  <tr class="<%= deck.validate.empty? ? '' : 'danger' %>">
    <td><%= link_to deck.name, deck %></td>
    <td><%= deck.format %></td>
    
    <td><span class="badge"><%= deck.main_count %></span></td>
    
    <td>
      <div class="pull-right">
      <%= link_to deck, :class => "btn btn-default btn-sm" do %>
        <i class="glyphicon glyphicon-eye-open"></i>
      <% end %>
      <%= link_to edit_deck_path(deck), :class => "btn btn-default btn-sm" do %>
        <i class="glyphicon glyphicon-pencil"></i>
      <% end %>
      <%= link_to deck, method: :delete, :class => "btn btn-sm btn-danger", data: { confirm: "Delete '#{deck.name}'?" } do %>
        <i class="glyphicon glyphicon-trash"></i>
      <% end %>
    </div>
    </td>
  </tr>
<% end %>
</table>
